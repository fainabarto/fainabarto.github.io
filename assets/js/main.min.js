document.addEventListener("DOMContentLoaded",function(){var a={};a.$=function(a){return document.body.querySelector(a)},a.$all=function(a){return document.body.querySelectorAll(a)},a.getStyle=function(a){return window.getComputedStyle(a)},a.hasClass=function(a,b){return-1!==a.className.indexOf(b)},a.addClass=function(b,c){a.hasClass(b,c)||(b.className+=" "+c)},a.removeClass=function(a,b){a.className=-1!==a.className.indexOf(" "+b)?a.className.replace(" "+b,""):a.className.replace(b,"")},a.addEvent=function(a,b,c){a.addEventListener(b,c)};var b=function(){var a=0,b=[],c=this;this.addFn=function(a,c,d){b.push({fn:a,delay:c,args:d})},this.play=function(){b[a].fn(b[a].args),++a<b.length&&setTimeout(c.play,b[a-1].delay)},this.all=function(){for(var a=b.length-1;a>=0;a--)b[a].fn()},this.reload=function(){a=0}};if(a.hasClass(document.body,"p-gallery")){var c=a.$(".js-navUp"),d=a.$(".js-holder"),e=parseInt(a.getStyle(a.$(".js-list")).height,10),f=a.$(".js-navDown"),g=function(b){var g=parseInt(a.getStyle(d).top.replace("px",""),10);d.style.top=g-e*b+"px",g-e*b===0?a.addClass(c,"m-inactive"):a.removeClass(c,"m-inactive"),Math.abs(g-e*b)+e>=d.offsetHeight?a.addClass(f,"m-inactive"):a.removeClass(f,"m-inactive")},h=function(){g(1)};a.addEvent(c,"click",function(){a.hasClass(c,"m-inactive")||g(-1)}),a.addEvent(f,"click",function(){a.hasClass(f,"m-inactive")||g(1)}),g(0);for(var i,j=a.$(".js-image"),k=a.$(".js-preloader"),l=a.$(".js-info"),m=a.$all(".js-galleryItem"),n=location.hash,o=!1,p=document.createElement("img"),q=function(){i=this,a.removeClass(a.$(".js-galleryItem.m-active"),"m-active"),a.addClass(i,"m-active"),a.addClass(j,"m-load"),a.addClass(l,"m-load"),a.addClass(k,"m-visible"),p.onload=function(){j.setAttribute("src",p.getAttribute("src")),j.width=p.width,j.height=p.height,l.innerHTML=i.getAttribute("data-description"),a.removeClass(j,"m-load"),a.removeClass(l,"m-load"),a.removeClass(k,"m-visible"),p.onload=null,p.removeAttribute("src")},p.setAttribute("src",i.getAttribute("data-big"))},r=0;r<m.length;r++)if(a.addEvent(m[r],"click",q),m[r].getAttribute("href")===n){if(o=!0,r>3){for(var s=new b,t=1;(r+1)/4>t;t++)s.addFn(h,310);s.play()}m[r].click()}o||m[0].click()}});